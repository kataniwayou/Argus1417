{
  "Logging": {
    "LogLevel": {
      "Default": "Debug",
      "Microsoft.AspNetCore": "Warning"
    }
  },
  "AllowedHosts": "*",
  "OpenTelemetry": {
    "CollectorEndpoint": "http://localhost:4317"
  },
  "Argus": {
    "Coordinator": {
      "SnapshotIntervalSeconds": 30,
      "StartupGracePeriodMultiplier": 3.0
    },
    "Noc": {
      "HttpClient": {
        "SendEndpoint": "https://noc.example.com/api/alerts",
        "VerifyEndpoint": "https://noc.example.com/api/alerts/verify",
        "Username": "",
        "Password": "",
        "TimeoutSeconds": 30,
        "ConnectIpAddress": "",
        "ConnectPort": 443,
        "TeamName": "ArgusTeam",
        "SystemName": "ArgusSystem",
        "HostName": "ArgusServer",
        "BypassSslValidation": true
      },
      "CircuitBreaker": {
        "FailureThreshold": 3
      }
    },
    "K8sLayer": {
      "Kubernetes": {
        "Namespace": "argus",
        "ApiTimeoutSeconds": 30,
        "UseInClusterConfig": false
      },
      "K8sApi": {
        "CreateNocBehavior": {
          "SendToNoc": true,
          "Payload": {
            "custom1": "ArgusTeam",
            "custom2": "K8sApiMonitor",
            "hostName": "ArgusServer",
            "level": 3,
            "message": "Kubernetes API server is unavailable",
            "severity": "",
            "source": "K8sLayer",
            "suppressionKey": "k8s-layer-api",
            "visible": true
          },
          "SuppressWindow": "1m"
        },
        "CancelNocBehavior": {
          "SendToNoc": true,
          "Payload": {
            "custom1": "ArgusTeam",
            "custom2": "K8sApiMonitor",
            "hostName": "ArgusServer",
            "level": 1,
            "message": "Kubernetes API server is available",
            "severity": "",
            "source": "K8sLayer",
            "suppressionKey": "k8s-layer-api",
            "visible": true
          },
          "SuppressWindow": "5m"
        }
      },
      "PrometheusPod": {
        "LabelSelector": "app=prometheus",
        "ContainerName": "prometheus",
        "CreateNocBehavior": {
          "SendToNoc": true,
          "Payload": {
            "custom1": "ArgusTeam",
            "custom2": "PrometheusPodMonitor",
            "hostName": "ArgusServer",
            "level": 3,
            "message": "Prometheus pod is down or unstable",
            "severity": "",
            "source": "K8sLayer",
            "suppressionKey": "prometheus-pod",
            "visible": true
          },
          "SuppressWindow": "2m"
        },
        "CancelNocBehavior": {
          "SendToNoc": true,
          "Payload": {
            "custom1": "ArgusTeam",
            "custom2": "PrometheusPodMonitor",
            "hostName": "ArgusServer",
            "level": 1,
            "message": "Prometheus pod is healthy",
            "severity": "",
            "source": "K8sLayer",
            "suppressionKey": "prometheus-pod",
            "visible": true
          },
          "SuppressWindow": "5m"
        }
      },
      "KsmPod": {
        "LabelSelector": "app.kubernetes.io/name=kube-state-metrics",
        "ContainerName": "kube-state-metrics",
        "CreateNocBehavior": {
          "SendToNoc": true,
          "Payload": {
            "custom1": "ArgusTeam",
            "custom2": "KsmPodMonitor",
            "hostName": "ArgusServer",
            "level": 3,
            "message": "Kube-state-metrics pod is down or unstable",
            "severity": "",
            "source": "K8sLayer",
            "suppressionKey": "ksm-pod",
            "visible": true
          },
          "SuppressWindow": "2m"
        },
        "CancelNocBehavior": {
          "SendToNoc": true,
          "Payload": {
            "custom1": "ArgusTeam",
            "custom2": "KsmPodMonitor",
            "hostName": "ArgusServer",
            "level": 1,
            "message": "Kube-state-metrics pod is healthy",
            "severity": "",
            "source": "K8sLayer",
            "suppressionKey": "ksm-pod",
            "visible": true
          },
          "SuppressWindow": "5m"
        }
      },
      "RestartTracking": {
        "WindowSize": 5,
        "RestartThreshold": 3
      },
      "PollingIntervalSeconds": 15
    },
    "Watchdog": {
      "AlertName": "Watchdog",
      "TimeoutSeconds": 90,
      "CreateNocBehavior": {
        "SendToNoc": true,
        "Payload": {
          "custom1": "ArgusTeam",
          "custom2": "Watchdog",
          "hostName": "ArgusServer",
          "level": 3,
          "message": "Watchdog heartbeat expired - Prometheus may be down",
          "severity": "",
          "source": "watchdog",
          "suppressionKey": "watchdog",
          "visible": true
        },
        "SuppressWindow": "2m"
      },
      "CancelNocBehavior": {
        "SendToNoc": true,
        "Payload": {
          "custom1": "ArgusTeam",
          "custom2": "Watchdog",
          "hostName": "ArgusServer",
          "level": 1,
          "message": "Watchdog heartbeat restored - Prometheus is healthy",
          "severity": "",
          "source": "watchdog",
          "suppressionKey": "watchdog",
          "visible": true
        },
        "SuppressWindow": "5m"
      }
    },
    "StatusFileSystem": {
      "PollingIntervalSeconds": 30,
      "CreateNocBehavior": {
        "SendToNoc": true,
        "Payload": {
          "custom1": "ArgusTeam",
          "custom2": "StatusFileSystem",
          "hostName": "ArgusServer",
          "level": 3,
          "message": "Status file destination is inaccessible",
          "severity": "",
          "source": "StatusFileSystem",
          "suppressionKey": "status-filesystem",
          "visible": true
        },
        "SuppressWindow": "1m"
      },
      "CancelNocBehavior": {
        "SendToNoc": true,
        "Payload": {
          "custom1": "ArgusTeam",
          "custom2": "StatusFileSystem",
          "hostName": "ArgusServer",
          "level": 1,
          "message": "Status file destination is accessible",
          "severity": "",
          "source": "StatusFileSystem",
          "suppressionKey": "status-filesystem",
          "visible": true
        },
        "SuppressWindow": "5m"
      }
    },
    "DefaultNoc": {
      "CreateNocBehavior": {
        "SendToNoc": true,
        "Payload": {
          "custom1": "ArgusTeam",
          "custom2": "PrometheusAlert",
          "hostName": "ArgusServer",
          "level": 3,
          "message": "Alert firing",
          "severity": "",
          "source": "prometheus",
          "suppressionKey": "",
          "visible": true
        },
        "SuppressWindow": "2m"
      },
      "CancelNocBehavior": {
        "SendToNoc": true,
        "Payload": {
          "custom1": "ArgusTeam",
          "custom2": "PrometheusAlert",
          "hostName": "ArgusServer",
          "level": 1,
          "message": "Alert resolved",
          "severity": "",
          "source": "prometheus",
          "suppressionKey": "",
          "visible": true
        },
        "SuppressWindow": "5m"
      }
    },
    "AlertsVector": {
      "AlertTtl": "1h"
    },
    "LeaderElection": {
      "LeaseName": "argus-leader",
      "LeaseDurationSeconds": 15,
      "RenewIntervalSeconds": 10,
      "RetryIntervalSeconds": 10
    },
    "Heartbeat": {
      "IntervalSeconds": 30,
      "File": {
        "Enabled": false,
        "DestinationPath": "/var/argus/heartbeat_status.json"
      },
      "Http": {
        "Enabled": false,
        "Payload": {
          "custom1": "ArgusTeam",
          "custom2": "Heartbeat",
          "hostName": "ArgusServer",
          "level": 1,
          "message": "Argus heartbeat",
          "severity": "",
          "source": "argus-heartbeat",
          "suppressionKey": "argus-heartbeat",
          "visible": true
        }
      }
    }
  }
}
